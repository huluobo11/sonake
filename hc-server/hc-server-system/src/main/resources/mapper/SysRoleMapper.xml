<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.hc.server.system.mapper.SysRoleMapper">
    <select id="findPageDetail" parameterType="sysRole" resultType="sysRole">
      SELECT
	  t.id id,
	  t.role_name roleName,
	  t.status status,
	  t.remark remark,
	  t.create_time createTime,
	  t.create_by createBy,
	  t.update_time updateTime,
	  t.update_by updateBy,
	  GROUP_CONCAT(mr.menu_id) mIds
      FROM
	  t_role t
      LEFT JOIN t_menu_role mr ON t.id = mr.role_id AND t.del_flag=0
      GROUP BY t.id
    </select>
</mapper>